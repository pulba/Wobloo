---
import Main from "./main.astro";
import Icon from "../components/icon.astro";
import Aside from "./aside.astro";
import { formatDate, slugify } from "../utils/helpers";
const { title, desc, frontmatter } = Astro.props;
---

<Main title={title} desc={desc}>
  <section>
    <div class="container py-20 px-6 mx-auto">
      <div class="flex flex-col lg:flex-row gap-12">
        <div class="w-full lg:w-2/3 text-gray-800">
          <a 
            href={`/tags/${slugify(frontmatter.tags)}/`} 
            class="font-josefin uppercase text-md text-blue-600"
          >{frontmatter.tags}
          </a>
          <h1 class="font-bold font-montserrat capitalize text-4xl md:text-5xl">
            {frontmatter.title}
          </h1>
          <div class="flex items-center gap-2 mt-2 mb-5">
            <p class="flex gap-2 items-end text-gray-500 text-sm">
              <a href={`/author/${slugify(frontmatter.author)}/`} class="flex gap-1 items-center">
                <Icon primary="w-4 h-4" path="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                {frontmatter.author}
              </a>
              <span class="flex gap-1 items-center">
                <Icon primary="w-4 h-4" path="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                {formatDate(frontmatter.date)}
              </span>
            </p>
          </div>
          <img src={frontmatter.image.img} alt={frontmatter.image.alt} class="mb-12 aspect-video" />
          <div class="prose prose-a:text-blue-600 hover:prose-a:text-blue-500">
            <slot />
          </div>
        </div>
        <Aside />
      </div>
    </div>
  </section>
</Main>
